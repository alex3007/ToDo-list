(this["webpackJsonpto-do-list"]=this["webpackJsonpto-do-list"]||[]).push([[0],{10:function(e,t,n){e.exports={bgWhite:"Item_bgWhite__1NDlI",markingIcon:"Item_markingIcon__x0DB-",dropIcon:"Item_dropIcon__2aEg5",editIcon:"Item_editIcon__2OTEK"}},23:function(e,t,n){e.exports={filterContainer:"Filter_filterContainer__11fcb",switcher:"Filter_switcher__KdgDW"}},38:function(e,t,n){e.exports={header:"Header_header__1M8dn"}},39:function(e,t,n){e.exports={addIcon:"Creator_addIcon__1j88e"}},49:function(e,t,n){},50:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),i=n.n(a),c=n(9),s=n.n(c),o=(n(49),n(50),n(8)),u=n(7),l=n.n(u),d=n(14),p=n(40),b=n(2),f=function(e,t,n){return e.map((function(e){return e.id===t?Object(b.a)(Object(b.a)({},e),n):e}))},j=n(15),h="https://todoalexserver.herokuapp.com/",O=function(){return j.get(h)},m=function(e,t){return j.post(h,{id:e,text:t})},x=function(e){return j.delete(h,{data:{id:e}})},g=function(e,t){return j.put(h,{id:e,text:t})},v=function(e,t){return j.put(h,{id:e,filterLabel:t})},T=n(77),E={items:[],isFetching:!0,isError:!1},I=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},k=function(e){return{type:"TOGGLE_IS_ERROR",isError:e}},_=function(e){return{type:"DELETE_ITEM",id:e}},D=function(e,t){return{type:"TOGGLE_MARK_DONE",id:e,filterLabel:t}},F=function(e,t){return{type:"TEXT_UPDATE",id:e,text:t}},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ITEMS":return Object(b.a)(Object(b.a)({},e),{},{items:t.items});case"TOGGLE_IS_FETCHING":return Object(b.a)(Object(b.a)({},e),{},{isFetching:t.isFetching});case"TOGGLE_IS_ERROR":return Object(b.a)(Object(b.a)({},e),{},{isError:t.isError});case"ADD_ITEM":return Object(b.a)(Object(b.a)({},e),{},{items:[t.item].concat(Object(p.a)(e.items))});case"DELETE_ITEM":return Object(b.a)(Object(b.a)({},e),{},{items:e.items.filter((function(e){return e.id!==t.id}))});case"TOGGLE_MARK_DONE":return Object(b.a)(Object(b.a)({},e),{},{items:f(e.items,t.id,{filterLabel:["all",t.filterLabel]})});case"TEXT_UPDATE":return Object(b.a)(Object(b.a)({},e),{},{items:f(e.items,t.id,{task:t.text})});default:return e}},L={filterLabels:[{label:"all",isChecked:!0},{label:"todo",isChecked:!1},{label:"done",isChecked:!1}]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USE_FILTER":return Object(b.a)(Object(b.a)({},e),{},{filterLabels:e.filterLabels.map((function(e){return e.label===t.label?Object(b.a)(Object(b.a)({},e),{},{isChecked:!0}):Object(b.a)(Object(b.a)({},e),{},{isChecked:!1})}))});default:return e}},M=n(36),w=Object(o.c)({body:y,filters:C}),N=Object(o.e)(w,Object(o.a)(M.a)),U=n(12),S=n(38),G=n.n(S),R=n.p+"static/media/three-dots.de1cde9d.svg",A=n(78),W=n(76),K=function(e){return Object(r.jsxs)("div",{className:G.a.header,children:[Object(r.jsx)(A.a,{children:e.isFetching?Object(r.jsx)(W.a,{timeout:1e3,classNames:"item",children:Object(r.jsx)("img",{src:R})}):null}),e.isError?Object(r.jsxs)("p",{children:["Something",Object(r.jsx)("br",{}),"is wrong..."]}):null,Object(r.jsx)("h1",{children:"ToDo list"})]})},H=Object(o.d)(Object(U.b)((function(e){return{isFetching:e.body.isFetching,isError:e.body.isError}})))((function(e){return Object(r.jsx)(K,{isFetching:e.isFetching,isError:e.isError})})),B=n(19),J=n(20),P=n(22),X=n(21),q=n(10),z=n.n(q),Q=n(6),V=function(e){Object(P.a)(n,e);var t=Object(X.a)(n);function n(e){var r;return Object(B.a)(this,n),(r=t.call(this,e)).onToggleMarkDone=function(){r.props.toggleMarkDone(r.props.id,r.props.filterLabel)},r.onDeleteItem=function(){r.props.deleteItem(r.props.id)},r.onStartTexUpdating=function(e){r.setState(Object(b.a)(Object(b.a)({},r.state),{},{isEnabled:!0}))},r.onTextUpdating=function(e){r.props.updateText(r.props.id,e.target.value)},r.onFinishTexUpdating=function(){r.props.saveUpdatedText(r.props.id,r.props.task),r.setState(Object(b.a)(Object(b.a)({},r.state),{},{isEnabled:!1}))},r.itemWrapper=i.a.createRef(),r.state={isEnabled:!1},r}return Object(J.a)(n,[{key:"render",value:function(){return Object(r.jsxs)("form",{children:["todo"===this.props.filterLabel?Object(r.jsx)(Q.e,{onClick:this.onToggleMarkDone,className:z.a.markingIcon}):Object(r.jsx)(Q.d,{onClick:this.onToggleMarkDone,className:z.a.markingIcon}),Object(r.jsx)("textarea",{onChange:this.onTextUpdating,value:this.props.task,disabled:!this.state.isEnabled,className:"".concat("done"===this.props.filterLabel?z.a.bgWhite:z.a.bgTransparent),ref:this.itemWrapper,placeholder:"Todo"}),this.state.isEnabled?Object(r.jsx)(Q.a,{onClick:this.onFinishTexUpdating,className:z.a.editIcon}):Object(r.jsx)(Q.b,{onClick:this.onStartTexUpdating,className:z.a.editIcon}),Object(r.jsx)(Q.f,{onClick:this.onDeleteItem,className:z.a.dropIcon})]})}}]),n}(i.a.Component),Y=function(e){var t=e.filters.find((function(e){return!0===e.isChecked})),n=e.items.filter((function(e){return-1!==e.filterLabel.indexOf(t.label)}));return Object(r.jsx)(A.a,{children:n.map((function(t){return Object(r.jsx)(W.a,{timeout:500,classNames:"item",children:Object(r.jsx)(V,{id:t.id,task:t.task,filterLabel:t.filterLabel[1],toggleMarkDone:e.toggleMarkDone,deleteItem:e.deleteItem,updateText:e.updateText,saveUpdatedText:e.saveUpdatedText})},t.id)}))})},Z=n(23),$=n.n(Z),ee=function(e){return Object(r.jsx)("div",{className:$.a.filterContainer,children:e.filters.map((function(t){return Object(r.jsxs)("label",{htmlFor:t.label,id:t.label,onClick:function(){e.useFilter(t.label)},children:[t.isChecked?Object(r.jsx)(Q.h,{className:$.a.switcher}):Object(r.jsx)(Q.g,{className:$.a.switcher}),t.label]},"".concat(t.label,"_key"))}))})},te=n(41),ne=n(39),re=n.n(ne),ae=function(e){var t=i.a.createRef(),n=Object(a.useState)(""),c=Object(te.a)(n,2),s=c[0],o=c[1],u=function(t){t.preventDefault(),""!==s&&e.addItem(s),o("")};return Object(r.jsxs)("form",{onSubmit:u,children:[Object(r.jsx)("input",{placeholder:"Enter todo...",onChange:function(){o(t.current.value)},ref:t,value:s}),Object(r.jsx)(Q.c,{className:re.a.addIcon,onClick:u})]})},ie=function(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)(ae,{addItem:e.addItem}),Object(r.jsx)(ee,{filters:e.filters,useFilter:e.useFilter}),Object(r.jsx)(Y,{filters:e.filters,items:e.items,toggleMarkDone:e.toggleMarkDone,deleteItem:e.deleteItem,updateText:e.updateText,saveUpdatedText:e.saveUpdatedText})]})},ce=function(e){Object(P.a)(n,e);var t=Object(X.a)(n);function n(){return Object(B.a)(this,n),t.apply(this,arguments)}return Object(J.a)(n,[{key:"componentDidMount",value:function(){this.props.getItems()}},{key:"render",value:function(){return Object(r.jsx)(ie,{items:this.props.items,isFetching:this.props.isFetching,filters:this.props.filters,addItem:this.props.addItem,toggleMarkDone:this.props.toggleMarkDone,deleteItem:this.props.deleteItem,updateText:this.props.updateText,saveUpdatedText:this.props.saveUpdatedText,useFilter:this.props.useFilter})}}]),n}(i.a.Component),se=Object(o.d)(Object(U.b)((function(e){return{items:e.body.items,isFetching:e.body.isFetching,filters:e.filters.filterLabels}}),{getItems:function(){return function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(I(!0)),e.next=4,O();case 4:n=e.sent,t({type:"SET_ITEMS",items:n.data}),t(I(!1)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t(k(!0));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},addItem:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r,a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(I(!0)),r=Object(T.a)(),t.next=5,m(r,e);case 5:(a=t.sent).data.result&&(n({type:"ADD_ITEM",item:a.data.item}),n(I(!1))),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n(k(!0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},deleteItem:function(e){return function(){var t=Object(d.a)(l.a.mark((function t(n){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n(I(!0)),t.next=4,x(e);case 4:(r=t.sent).data.result&&(n(_(r.data.id)),n(I(!1))),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),n(k(!0));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},toggleMarkDone:function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(r){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(I(!0)),n.next=4,v(e,t);case 4:(a=n.sent).data.result&&(r(D(a.data.id,a.data.filterLabel)),r(I(!1))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(k(!0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},updateText:F,saveUpdatedText:function(e,t){return function(){var n=Object(d.a)(l.a.mark((function n(r){var a;return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r(I(!0)),n.next=4,g(e,t);case 4:(a=n.sent).data.result&&(r(F(a.data.id,a.data.text)),r(I(!1))),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),r(k(!0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()},useFilter:function(e){return{type:"USE_FILTER",label:e}}}))(ce),oe=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(H,{}),Object(r.jsx)(se,{})]})},ue=function(){return Object(r.jsx)(U.a,{store:N,children:Object(r.jsx)(oe,{})})};s.a.render(Object(r.jsx)(ue,{}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.f57add32.chunk.js.map